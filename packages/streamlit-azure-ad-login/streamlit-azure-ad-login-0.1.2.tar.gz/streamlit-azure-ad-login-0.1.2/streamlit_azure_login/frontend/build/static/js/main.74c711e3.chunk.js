(this["webpackJsonplogin-streamlit"]=this["webpackJsonplogin-streamlit"]||[]).push([[0],{30:function(e,t,n){e.exports=n(63)},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),s=n(28),o=n.n(s),c=n(0),i=n(1),u=n(2),l=n(15),m=n(4),p=n.n(m),f=n(6),d=n(5),h=n(9),v=function(e){var t=e.children,n=e.className,a=e.onSubmit,s=e.isValidForm,o=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,s();case 3:e.sent&&a(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{className:n,onSubmit:o,autoComplete:"off"},t)},b=n(11),g=n(3),w=n(10),j=(n(39),["onChange","label","shrink","showHideFlag","error","type","name","value","inputFocused"]),O=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={show:!0},a.inputRef=r.a.createRef(),a.showToggle=a.showToggle.bind(Object(w.a)(a)),a}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.name}},{key:"showToggle",value:function(){this.setState({show:!this.state.show})}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.label,a=e.shrink,s=e.showHideFlag,o=e.error,c=e.type,i=e.name,u=e.value,l=e.inputFocused,m=Object(b.a)(e,j);return r.a.createElement("div",{className:"group"},r.a.createElement("input",Object.assign({ref:this.inputRef,className:"form-input\n            ".concat(o?"isError":"","\n            ").concat(l===i?"keyboardfocus":"","\n          "),onChange:t,name:i,value:u,type:s?this.state.show?"password":"input":c},m)),n?r.a.createElement("label",{className:"".concat(a?"shrink":""," form-input-label")},n):null,n?r.a.createElement("label",{className:"form-input-label error-message"},o):null,s?r.a.createElement("label",{className:"form-input-label-show",onClick:this.showToggle},this.state.show?"Show":"Hide"):null)}}]),n}(r.a.Component),E=(n(40),["children","inverse"]),y=function(e){var t=e.children,n=e.inverse,a=Object(b.a)(e,E);return r.a.createElement("button",Object.assign({className:"custom-button ".concat(n?"custom-button-inverse":"")},a),t)},k=(n(41),function(){return r.a.createElement("div",{className:"spinner-auto"},r.a.createElement("div",{className:"spinner-container small"}))}),x=n(19),N=n.n(x),S={GET:[200],POST:[200,201],PUT:[200],DELETE:[200,204]},T=function(){function e(){Object(c.a)(this,e)}return Object(g.a)(e,null,[{key:"headers",value:function(){return{"Content-Type":"application/json"}}},{key:"get",value:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.xhr(t,null,"GET"));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.xhr(t,n,"PUT"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(f.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.xhr(t,n,"POST",a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(f.a)(p.a.mark((function e(t,n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.xhr(t,n,"DELETE"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"xhr",value:function(){var t=Object(f.a)(p.a.mark((function t(n,a,r,s){var o,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(s).concat(n),(c=Object.assign({method:r},a?{body:JSON.stringify(a)}:null)).headers=e.headers(),t.abrupt("return",fetch(o,c).then((function(e){var t=204!==e.status?e.json():{};return S[r].includes(e.status)?t:t.then((function(e){throw e}))})));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}()}]),e}(),C=(n(61),N.a.object().keys({username:N.a.string().max(15).required().messages({"string.empty":"Username is not allowed to be empty","string.max":"Username should have a maximum length of {#limit}","any.required":"Username is a required field"}),password:N.a.string().required().max(15).messages({"string.empty":"Password is not allowed to be empty","string.max":"Password should have a maximum length of {#limit}","any.required":"Password is a required field"})})),F=function(e){var t=e.headerText,n=e.loginEndpoint,s=e.logo,o=e.prefix,c=Object(a.useState)(),i=Object(h.a)(c,2),u=i[0],m=i[1],b=Object(a.useState)(),g=Object(h.a)(b,2),w=g[0],j=g[1],E=Object(a.useState)(!1),x=Object(h.a)(E,2),N=x[0],S=x[1],F=Object(a.useState)(),P=Object(h.a)(F,2),U=P[0],q=P[1],L=Object(a.useState)(!1),D=Object(h.a)(L,2),H=D[0],R=D[1],A=Object(a.useState)(),J=Object(h.a)(A,2),V=J[0],G=J[1];Object(a.useEffect)((function(){l.a.setFrameHeight(600)}),[]),Object(a.useEffect)((function(){H&&I()}),[u,w]);var M=function(e){if(H){var t=null===V||void 0===V?void 0:V.find((function(t){return t.field===e}));return null===t||void 0===t?void 0:t.message}},B=function(e,t){!function(e,t){switch(q(void 0),e){case"username":m(t);break;case"password":j(t)}}(e,t.target.value)},I=function(){var e;R(!0);var t=!1,n=[],a={username:u,password:w},r=C.validate(a,{abortEarly:!1}).error;return r&&(null===r||void 0===r||null===(e=r.details)||void 0===e?void 0:e.length)>0?(r.details.map((function(e){var t=e.context.key;n=[].concat(Object(d.a)(n),[{field:t,message:e.message}])})),G(n)):(t=!0,G(void 0)),t},_=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),a={name:"".concat(o?"".concat(o,"\\"):"").concat(u),password:w},e.prev=2,e.abrupt("return",T.post("/login",a,n).then((function(e){return l.a.setComponentValue(null===e||void 0===e?void 0:e.token),e&&e.token?e.token:void 0})).catch((function(e){q(e?null===e||void 0===e?void 0:e.message:"Something was wrong")})));case 6:e.prev=6,e.t0=e.catch(2),console.log("error",e.t0);case 9:return e.prev=9,S(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[2,6,9,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"sign-in-container"},r.a.createElement("div",{className:"logo-contanier"},r.a.createElement("img",{className:"logo-image",alt:"",src:s})),t&&r.a.createElement("p",{className:"welcome-message"},t),r.a.createElement("div",{className:"form-container"},r.a.createElement(v,{onSubmit:z,isValidForm:_},r.a.createElement(O,{type:"text",name:"username",onChange:function(e){return B("username",e)},label:"Usuario",maxLength:"30",error:M("username"),disabled:N,shrink:!0}),r.a.createElement(O,{type:"password",name:"password",onChange:function(e){return B("password",e)},label:"Password",maxLength:"30",error:M("password"),disabled:N,shrink:!0,showHideFlag:!0}),U&&""!==U&&r.a.createElement("div",{className:"error-message"},U),r.a.createElement("div",{className:"footer-container"},r.a.createElement(y,{type:"submit",disabled:N},N?r.a.createElement(k,null):"Login")))))},P=(n(62),function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).render=function(){var t=e.props.args.headerText,n=e.props.args.logo,a=e.props.args.AD_URL,s=e.props.args.prefix;return a&&""!==a?r.a.createElement("div",{className:"App"},r.a.createElement(F,{headerText:t,loginEndpoint:a,logo:n,prefix:s})):null},e}return n}(l.b)),U=Object(l.c)(P);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.74c711e3.chunk.js.map