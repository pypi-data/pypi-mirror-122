(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{620:function(v,_,e){"use strict";e.r(_);var a=e(21),t=Object(a.a)({},(function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"更新日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新日志"}},[v._v("#")]),v._v(" 更新日志")]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a16"}},[v._v("#")]),v._v(" v2.0.0a16")]),v._v(" "),e("ul",[e("li",[v._v("新增 "),e("code",[v._v("MessageTemplate")]),v._v(" 可用于 "),e("code",[v._v("Message")]),v._v(" 的模板生成")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("matcher.got")]),v._v(" "),e("code",[v._v("matcher.send")]),v._v(" "),e("code",[v._v("matcher.pause")]),v._v(" "),e("code",[v._v("matcher.reject")]),v._v(" "),e("code",[v._v("matcher.finish")]),v._v(" 支持 "),e("code",[v._v("MessageTemplate")])]),v._v(" "),e("li",[v._v("移除 "),e("code",[v._v("matcher.got")]),v._v(" 原本的 "),e("code",[v._v("state format")]),v._v(" 支持，由 "),e("code",[v._v("MessageTemplate")]),v._v(" template 替代")]),v._v(" "),e("li",[e("code",[v._v("adapter")]),v._v(" 基类拆分为单独文件")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("fastapi")]),v._v(" Driver Websocket 未能正确提供请求头部")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("fastapi")]),v._v(" Driver 更多的 uvicorn 相关配置项")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("quart")]),v._v(" Driver 更多的 uvicorn 相关配置项")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a15"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a15"}},[v._v("#")]),v._v(" v2.0.0a15")]),v._v(" "),e("ul",[e("li",[v._v("修复 "),e("code",[v._v("fastapi")]),v._v(" Driver 未能正确进行 reconnect")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("MessageSegment")]),v._v(" 错误的 Mapping 映射")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a14"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a14"}},[v._v("#")]),v._v(" v2.0.0a14")]),v._v(" "),e("ul",[e("li",[v._v("修改日志等级，支持输出等级自定义")]),v._v(" "),e("li",[v._v("修复日志输出模块名错误")]),v._v(" "),e("li",[v._v("修改 "),e("code",[v._v("Matcher")]),v._v(" 属性 "),e("code",[v._v("module")]),v._v(" 类型")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("Matcher")]),v._v(" 属性 "),e("code",[v._v("plugin_name")]),v._v(" "),e("code",[v._v("module_name")]),v._v(" "),e("code",[v._v("module_prefix")])]),v._v(" "),e("li",[v._v("移除 "),e("code",[v._v("bot.call_api")]),v._v(" 参数 "),e("code",[v._v("self_id")]),v._v(" 切换机器人支持")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("type_updater")]),v._v(" "),e("code",[v._v("permission_updater")]),v._v(" 未传递的错误")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("type_updater")]),v._v(" "),e("code",[v._v("permission_updater")]),v._v(" 参数 "),e("code",[v._v("state")]),v._v(" 错误")]),v._v(" "),e("li",[v._v("修复使用 "),e("code",[v._v("state_factory")]),v._v(" 后导致无法在 session 内传递 "),e("code",[v._v("state")])]),v._v(" "),e("li",[v._v("重构 "),e("code",[v._v("Driver")]),v._v(" 及连接信息抽象")]),v._v(" "),e("li",[v._v("新增正向 Driver(Client) 支持")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("aiohttp")]),v._v(" 正向 Driver")]),v._v(" "),e("li",[e("code",[v._v("fastapi")]),v._v(" Driver 新增正向支持")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a13-post1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a13-post1"}},[v._v("#")]),v._v(" v2.0.0a13.post1")]),v._v(" "),e("ul",[e("li",[v._v("分离 "),e("code",[v._v("handler")]),v._v(" 与 "),e("code",[v._v("matcher")])]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("cqhttp")]),v._v(" secret 校验出错")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("pydantic 1.8")]),v._v(" 导致的 "),e("code",[v._v("alias")]),v._v(" 问题")]),v._v(" "),e("li",[v._v("修改 "),e("code",[v._v("cqhttp")]),v._v(" "),e("code",[v._v("ding")]),v._v(" "),e("code",[v._v("session id")]),v._v("，不再允许跨群")]),v._v(" "),e("li",[v._v("修改 "),e("code",[v._v("shell_command")]),v._v(" 存储 message")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("cqhttp")]),v._v(" 检查 reply 失败退出")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("call_api")]),v._v(" hook 接口")]),v._v(" "),e("li",[v._v("优化 "),e("code",[v._v("import hook")])])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a11"}},[v._v("#")]),v._v(" v2.0.0a11")]),v._v(" "),e("ul",[e("li",[v._v("修改 "),e("code",[v._v("nonebot")]),v._v(" 项目结构，分离所有 "),e("code",[v._v("adapter")])]),v._v(" "),e("li",[v._v("修改插件加载逻辑，使用 "),e("code",[v._v("import hook")]),v._v(" (PEP 302)")]),v._v(" "),e("li",[v._v("新增插件加载方式: "),e("code",[v._v("json")]),v._v(", "),e("code",[v._v("toml")])]),v._v(" "),e("li",[v._v("适配 "),e("code",[v._v("pydantic")]),v._v(" ~1.8")]),v._v(" "),e("li",[v._v("移除 4 种内置事件类型限制，允许自定义事件类型")]),v._v(" "),e("li",[v._v("新增会话权限更新自定义，会话中断时更新权限以做到多人会话")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a10"}},[v._v("#")]),v._v(" v2.0.0a10")]),v._v(" "),e("ul",[e("li",[v._v("新增 "),e("code",[v._v("Quart Driver")]),v._v(" 支持")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("mirai")]),v._v(" 协议适配命令处理以及消息转义")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a9"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a9"}},[v._v("#")]),v._v(" v2.0.0a9")]),v._v(" "),e("ul",[e("li",[v._v("修复 "),e("code",[v._v("Message")]),v._v(" 消息为 "),e("code",[v._v("None")]),v._v(" 时的处理错误")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("Message.extract_plain_text")]),v._v(" 返回为转义字符串的问题")]),v._v(" "),e("li",[v._v("修复命令处理错误地删除了后续空格")]),v._v(" "),e("li",[v._v("增加好友添加和加群请求事件 "),e("code",[v._v("approve")]),v._v(", "),e("code",[v._v("reject")]),v._v(" 方法")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("mirai-api-http")]),v._v(" 协议适配")]),v._v(" "),e("li",[v._v("修复 rule 运行时 state 覆盖问题，隔离 state")]),v._v(" "),e("li",[v._v("新增 "),e("code",[v._v("shell like command")]),v._v(" 支持")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a8"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a8"}},[v._v("#")]),v._v(" v2.0.0a8")]),v._v(" "),e("ul",[e("li",[v._v("修改 typing 类型注释")]),v._v(" "),e("li",[v._v("修改 event 基类接口")]),v._v(" "),e("li",[v._v("修复部分非法 CQ 码被识别导致报错")]),v._v(" "),e("li",[v._v("修复非 text 类型 CQ 码 data 未进行去转义")]),v._v(" "),e("li",[v._v("修复内置插件未进行去转义，修改内置插件为 cqhttp 定制")]),v._v(" "),e("li",[v._v("修复 "),e("code",[v._v("load_plugins")]),v._v(" 加载不合法的包时出现 "),e("code",[v._v("spec")]),v._v(" 为 "),e("code",[v._v("None")]),v._v(" 的问题")]),v._v(" "),e("li",[v._v("出于"),e("strong",[v._v("CQ 码安全性考虑")]),v._v("，使用 cqhttp 的 "),e("code",[v._v("bot.send")]),v._v(" 或者 "),e("code",[v._v("matcher.send")]),v._v(" 时默认对字符串进行转义")]),v._v(" "),e("li",[v._v("移动 cqhttp 相关 "),e("code",[v._v("Permission")]),v._v(" 至 "),e("code",[v._v("nonebot.adapters.cqhttp")]),v._v(" 包内")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a7"}},[v._v("#")]),v._v(" v2.0.0a7")]),v._v(" "),e("ul",[e("li",[v._v("修复 cqhttp 检查 to me 时出现 IndexError")]),v._v(" "),e("li",[v._v("修复已失效的事件响应器仍会运行一次的 bug")]),v._v(" "),e("li",[v._v("修改 cqhttp 检查 reply 时未去除后续 at 以及空格")]),v._v(" "),e("li",[v._v("添加 get_plugin 获取插件函数")]),v._v(" "),e("li",[v._v("添加插件 export, require 方法")]),v._v(" "),e("li",[e("strong",[v._v("移除")]),v._v("内置 apscheduler 定时任务支持")]),v._v(" "),e("li",[e("strong",[v._v("移除")]),v._v("内置协议适配默认加载")]),v._v(" "),e("li",[v._v("新增"),e("strong",[v._v("钉钉")]),v._v("协议适配")]),v._v(" "),e("li",[v._v("移除原有共享型 "),e("code",[v._v("MatcherGroup")]),v._v(" 改为默认型 "),e("code",[v._v("MatcherGroup")])])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a6"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a6"}},[v._v("#")]),v._v(" v2.0.0a6")]),v._v(" "),e("ul",[e("li",[v._v("修复 block 失效问题 (hotfix)")])]),v._v(" "),e("h2",{attrs:{id:"v2-0-0a5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-0-0a5"}},[v._v("#")]),v._v(" v2.0.0a5")]),v._v(" "),e("ul",[e("li",[v._v("更新插件指南文档")]),v._v(" "),e("li",[v._v("修复临时事件响应器运行后删除造成的多次响应问题")])])])}),[],!1,null,null,null);_.default=t.exports}}]);