(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{544:function(e,t,a){"use strict";a.r(t);var s=a(21),_=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"nonebot-adapters-feishu-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu 模块")]),e._v(" "),a("h1",{attrs:{id:"nonebot-adapters-feishu-config-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-config-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu.config 模块")]),e._v(" "),a("h2",{attrs:{id:"class-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-config"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Config")])]),e._v(" "),a("p",[e._v("钉钉配置类")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("配置项")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("app_id")]),e._v(" / "),a("code",[e._v("feishu_app_id")]),e._v(": 飞书开放平台后台“凭证与基础信息”处给出的 App ID")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("app_secret")]),e._v(" / "),a("code",[e._v("feishu_app_secret")]),e._v(": 飞书开放平台后台“凭证与基础信息”处给出的 App Secret")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("encrypt_key")]),e._v(" / "),a("code",[e._v("feishu_encrypt_key")]),e._v(": 飞书开放平台后台“事件订阅”处设置的 Encrypt Key")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("verification_token")]),e._v(" / "),a("code",[e._v("feishu_verification_token")]),e._v(": 飞书开放平台后台“事件订阅”处设置的 Verification Token")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("tenant_access_token")]),e._v(" / "),a("code",[e._v("feishu_tenant_access_token")]),e._v(": 请求飞书 API 后返回的租户密钥")])])])])]),e._v(" "),a("h1",{attrs:{id:"nonebot-adapters-feishu-exception-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-exception-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu.exception 模块")]),e._v(" "),a("h2",{attrs:{id:"exception-actionfailed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-actionfailed"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("ActionFailed")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.ActionFailed"}},[a("code",[e._v("nonebot.exception.ActionFailed")])]),e._v(", "),a("code",[e._v("nonebot.adapters.feishu.exception.FeishuAdapterException")])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("API 请求返回错误信息。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("retcode: Optional[int]")]),e._v(": 错误码")])])])]),e._v(" "),a("h2",{attrs:{id:"exception-networkerror"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exception-networkerror"}},[e._v("#")]),e._v(" "),a("em",[e._v("exception")]),e._v(" "),a("code",[e._v("NetworkError")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./../exception.html#nonebot.exception.NetworkError"}},[a("code",[e._v("nonebot.exception.NetworkError")])]),e._v(", "),a("code",[e._v("nonebot.adapters.feishu.exception.FeishuAdapterException")])],1),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("网络错误。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("retcode: Optional[int]")]),e._v(": 错误码")])])])]),e._v(" "),a("h1",{attrs:{id:"nonebot-adapters-feishu-bot-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-bot-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu.bot 模块")]),e._v(" "),a("h2",{attrs:{id:"check-at-me-bot-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-at-me-bot-event"}},[e._v("#")]),e._v(" "),a("code",[e._v("_check_at_me(bot, event)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("检查消息开头或结尾是否存在 @机器人，去除并赋值 "),a("code",[e._v("event.reply")]),e._v(", "),a("code",[e._v("event.to_me")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("bot: Bot")]),e._v(": Bot 对象")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("event: Event")]),e._v(": Event 对象")])])])])]),e._v(" "),a("h2",{attrs:{id:"check-nickname-bot-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#check-nickname-bot-event"}},[e._v("#")]),e._v(" "),a("code",[e._v("_check_nickname(bot, event)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("检查消息开头是否存在昵称，去除并赋值 "),a("code",[e._v("event.to_me")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("bot: Bot")]),e._v(": Bot 对象")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("event: Event")]),e._v(": Event 对象")])])])])]),e._v(" "),a("h2",{attrs:{id:"handle-api-result-result"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handle-api-result-result"}},[e._v("#")]),e._v(" "),a("code",[e._v("_handle_api_result(result)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("处理 API 请求返回值。")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("result: Optional[Dict[str, Any]]")]),e._v(": API 返回数据")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("返回")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Any")]),e._v(": API 调用返回数据")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("异常")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("ActionFailed")]),e._v(": API 调用失败")])])])]),e._v(" "),a("h2",{attrs:{id:"class-bot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-bot"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Bot")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters._base.Bot"}},[a("code",[e._v("nonebot.adapters._base.Bot")])])],1),e._v(" "),a("p",[e._v("飞书 协议 Bot 适配。继承属性参考 "),a("router-link",{attrs:{to:"./#class-basebot"}},[e._v("BaseBot")]),e._v(" 。")],1),e._v(" "),a("h3",{attrs:{id:"async-handle-message-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-handle-message-message"}},[e._v("#")]),e._v(" "),a("em",[e._v("async")]),e._v(" "),a("code",[e._v("handle_message(message)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("处理事件并转换为 "),a("a",{attrs:{href:"#class-event"}},[e._v("Event")])])])]),e._v(" "),a("h3",{attrs:{id:"async-call-api-api-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#async-call-api-api-data"}},[e._v("#")]),e._v(" "),a("em",[e._v("async")]),e._v(" "),a("code",[e._v("call_api(api, **data)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("调用 飞书 协议 API")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("参数")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("api: str")]),e._v(": API 名称")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("**data: Any")]),e._v(": API 参数")])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("返回")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Any")]),e._v(": API 调用返回数据")])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("异常")])]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("NetworkError")]),e._v(": 网络错误")])]),e._v(" "),a("li",[a("p",[a("code",[e._v("ActionFailed")]),e._v(": API 调用失败")])])])])]),e._v(" "),a("h1",{attrs:{id:"nonebot-adapters-feishu-message-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-message-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu.message 模块")]),e._v(" "),a("h2",{attrs:{id:"class-messagesegment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-messagesegment"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("MessageSegment")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters._base.MessageSegment"}},[a("code",[e._v("nonebot.adapters._base.MessageSegment")])]),e._v("["),a("code",[e._v("Message")]),e._v("]")],1),e._v(" "),a("p",[e._v("飞书 协议 MessageSegment 适配。具体方法参考协议消息段类型或源码。")]),e._v(" "),a("h2",{attrs:{id:"class-message"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-message"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Message")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters._base.Message"}},[a("code",[e._v("nonebot.adapters._base.Message")])]),e._v("["),a("code",[e._v("nonebot.adapters.feishu.message.MessageSegment")]),e._v("]")],1),e._v(" "),a("p",[e._v("飞书 协议 Message 适配。")]),e._v(" "),a("h2",{attrs:{id:"class-messageserializer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-messageserializer"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("MessageSerializer")])]),e._v(" "),a("p",[e._v("基类："),a("code",[e._v("object")])]),e._v(" "),a("p",[e._v("飞书 协议 Message 序列化器。")]),e._v(" "),a("h2",{attrs:{id:"class-messagedeserializer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-messagedeserializer"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("MessageDeserializer")])]),e._v(" "),a("p",[e._v("基类："),a("code",[e._v("object")])]),e._v(" "),a("p",[e._v("飞书 协议 Message 反序列化器。")]),e._v(" "),a("h1",{attrs:{id:"nonebot-adapters-feishu-event-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-adapters-feishu-event-模块"}},[e._v("#")]),e._v(" NoneBot.adapters.feishu.event 模块")]),e._v(" "),a("h2",{attrs:{id:"class-event"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-event"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Event")])]),e._v(" "),a("p",[e._v("基类："),a("router-link",{attrs:{to:"./#nonebot.adapters._base.Event"}},[a("code",[e._v("nonebot.adapters._base.Event")])])],1),e._v(" "),a("p",[e._v("飞书协议事件。各事件字段参考 "),a("a",{attrs:{href:"https://open.feishu.cn/document/ukTMukTMukTM/uYDNxYjL2QTM24iN0EjN/event-list",target:"_blank",rel:"noopener noreferrer"}},[e._v("飞书文档"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"get-event-model-event-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-event-model-event-name"}},[e._v("#")]),e._v(" "),a("code",[e._v("get_event_model(event_name)")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("说明")])]),e._v(" "),a("p",[e._v("根据事件名获取对应 "),a("code",[e._v("Event Model")]),e._v(" 及 "),a("code",[e._v("FallBack Event Model")]),e._v(" 列表")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("返回")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("List[Type[Event]]")])])])])])])}),[],!1,null,null,null);t.default=_.exports}}]);