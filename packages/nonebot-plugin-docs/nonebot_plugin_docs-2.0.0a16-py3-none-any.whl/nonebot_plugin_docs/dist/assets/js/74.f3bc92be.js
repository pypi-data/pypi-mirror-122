(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{546:function(e,t,v){"use strict";v.r(t);var s=v(21),_=Object(s.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"nonebot-config-模块"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-config-模块"}},[e._v("#")]),e._v(" NoneBot.config 模块")]),e._v(" "),v("h2",{attrs:{id:"配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),v("p",[e._v("NoneBot 使用 "),v("a",{attrs:{href:"https://pydantic-docs.helpmanual.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pydantic"),v("OutboundLink")],1),e._v(" 以及 "),v("a",{attrs:{href:"https://saurabh-kumar.com/python-dotenv/",target:"_blank",rel:"noopener noreferrer"}},[e._v("python-dotenv"),v("OutboundLink")],1),e._v(" 来读取配置。")]),e._v(" "),v("p",[e._v("配置项需符合特殊格式或 json 序列化格式。详情见 "),v("a",{attrs:{href:"https://pydantic-docs.helpmanual.io/usage/types/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pydantic Field Type"),v("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),v("h2",{attrs:{id:"class-env"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#class-env"}},[e._v("#")]),e._v(" "),v("em",[e._v("class")]),e._v(" "),v("code",[e._v("Env")])]),e._v(" "),v("p",[e._v("基类："),v("code",[e._v("nonebot.config.BaseConfig")])]),e._v(" "),v("p",[e._v("运行环境配置。大小写不敏感。")]),e._v(" "),v("p",[e._v("将会从 "),v("code",[e._v("nonebot.init 参数")]),e._v(" > "),v("code",[e._v("环境变量")]),e._v(" > "),v("code",[e._v(".env 环境配置文件")]),e._v(" 的优先级读取配置。")]),e._v(" "),v("h3",{attrs:{id:"environment"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[e._v("#")]),e._v(" "),v("code",[e._v("environment")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("str")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v('"prod"')])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("当前环境名。 NoneBot 将从 "),v("code",[e._v(".env.{environment}")]),e._v(" 文件中加载配置。")])])]),e._v(" "),v("h2",{attrs:{id:"class-config"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#class-config"}},[e._v("#")]),e._v(" "),v("em",[e._v("class")]),e._v(" "),v("code",[e._v("Config")])]),e._v(" "),v("p",[e._v("基类："),v("code",[e._v("nonebot.config.BaseConfig")])]),e._v(" "),v("p",[e._v("NoneBot 主要配置。大小写不敏感。")]),e._v(" "),v("p",[e._v("除了 NoneBot 的配置项外，还可以自行添加配置项到 "),v("code",[e._v(".env.{environment}")]),e._v(" 文件中。\n这些配置将会在 json 反序列化后一起带入 "),v("code",[e._v("Config")]),e._v(" 类中。")]),e._v(" "),v("h3",{attrs:{id:"driver"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#driver"}},[e._v("#")]),e._v(" "),v("code",[e._v("driver")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("str")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v('"nonebot.drivers.fastapi"')])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("NoneBot 运行所使用的 "),v("code",[e._v("Driver")]),e._v(" 。继承自 "),v("code",[e._v("nonebot.driver.BaseDriver")]),e._v(" 。")]),e._v(" "),v("p",[e._v("配置格式为 "),v("code",[e._v("<module>[:<class>]")]),e._v("，默认类名为 "),v("code",[e._v("Driver")]),e._v("。")])])]),e._v(" "),v("h3",{attrs:{id:"host"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[e._v("#")]),e._v(" "),v("code",[e._v("host")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("IPvAnyAddress")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("127.0.0.1")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("NoneBot 的 HTTP 和 WebSocket 服务端监听的 IP/主机名。")])])]),e._v(" "),v("h3",{attrs:{id:"port"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#port"}},[e._v("#")]),e._v(" "),v("code",[e._v("port")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("int")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("8080")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("NoneBot 的 HTTP 和 WebSocket 服务端监听的端口。")])])]),e._v(" "),v("h3",{attrs:{id:"debug"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[e._v("#")]),e._v(" "),v("code",[e._v("debug")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("bool")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("False")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("是否以调试模式运行 NoneBot。")])])]),e._v(" "),v("h3",{attrs:{id:"log-level"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#log-level"}},[e._v("#")]),e._v(" "),v("code",[e._v("log_level")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Union[int, str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("None")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("配置 NoneBot 日志输出等级，可以为 "),v("code",[e._v("int")]),e._v(" 类型等级或等级名称，参考 "),v("a",{attrs:{href:"https://loguru.readthedocs.io/en/stable/api/logger.html#levels",target:"_blank",rel:"noopener noreferrer"}},[e._v("loguru 日志等级"),v("OutboundLink")],1),e._v("。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-default line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("LOG_LEVEL=25\nLOG_LEVEL=INFO\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br")])]),v("h3",{attrs:{id:"api-root"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#api-root"}},[e._v("#")]),e._v(" "),v("code",[e._v("api_root")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Dict[str, str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("{}")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("以机器人 ID 为键，上报地址为值的字典，环境变量或文件中应使用 json 序列化。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-default line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v('API_ROOT={"123456": "http://127.0.0.1:5700"}\n')])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h3",{attrs:{id:"api-timeout"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#api-timeout"}},[e._v("#")]),e._v(" "),v("code",[e._v("api_timeout")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Optional[float]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("30.")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("API 请求超时时间，单位: 秒。")])])]),e._v(" "),v("h3",{attrs:{id:"access-token"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#access-token"}},[e._v("#")]),e._v(" "),v("code",[e._v("access_token")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Optional[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("None")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("API 请求以及上报所需密钥，在请求头中携带。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-http line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-http"}},[v("code",[v("span",{pre:!0,attrs:{class:"token request-line"}},[v("span",{pre:!0,attrs:{class:"token property"}},[e._v("POST")]),e._v(" /cqhttp/ HTTP/1.1")]),e._v("\n"),v("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Authorization:")]),e._v(" Bearer kSLuTF2GC2Q4q4ugm3\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br")])]),v("h3",{attrs:{id:"secret"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#secret"}},[e._v("#")]),e._v(" "),v("code",[e._v("secret")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Optional[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("None")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("HTTP POST 形式上报所需签名，在请求头中携带。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-http line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-http"}},[v("code",[v("span",{pre:!0,attrs:{class:"token request-line"}},[v("span",{pre:!0,attrs:{class:"token property"}},[e._v("POST")]),e._v(" /cqhttp/ HTTP/1.1")]),e._v("\n"),v("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("X-Signature:")]),e._v(" sha1=f9ddd4863ace61e64f462d41ca311e3d2c1176e2\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br")])]),v("h3",{attrs:{id:"superusers"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#superusers"}},[e._v("#")]),e._v(" "),v("code",[e._v("superusers")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Set[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("set()")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("机器人超级用户。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-default line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v('SUPERUSERS=["12345789"]\n')])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br")])]),v("h3",{attrs:{id:"nickname"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#nickname"}},[e._v("#")]),e._v(" "),v("code",[e._v("nickname")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Set[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("set()")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("机器人昵称。")])])]),e._v(" "),v("h3",{attrs:{id:"command-start"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#command-start"}},[e._v("#")]),e._v(" "),v("code",[e._v("command_start")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Set[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v('{"/"}')])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("命令的起始标记，用于判断一条消息是不是命令。")])])]),e._v(" "),v("h3",{attrs:{id:"command-sep"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#command-sep"}},[e._v("#")]),e._v(" "),v("code",[e._v("command_sep")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("Set[str]")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v('{"."}')])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("命令的分隔标记，用于将文本形式的命令切分为元组（实际的命令名）。")])])]),e._v(" "),v("h3",{attrs:{id:"session-expire-timeout"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#session-expire-timeout"}},[e._v("#")]),e._v(" "),v("code",[e._v("session_expire_timeout")])]),e._v(" "),v("ul",[v("li",[v("p",[v("strong",[e._v("类型")]),e._v(": "),v("code",[e._v("timedelta")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("默认值")]),e._v(": "),v("code",[e._v("timedelta(minutes=2)")])])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("说明")])]),e._v(" "),v("p",[e._v("等待用户回复的超时时间。")])]),e._v(" "),v("li",[v("p",[v("strong",[e._v("示例")])])])]),e._v(" "),v("div",{staticClass:"language-default line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[e._v("SESSION_EXPIRE_TIMEOUT=120  # 单位: 秒\nSESSION_EXPIRE_TIMEOUT=[DD ][HH:MM]SS[.ffffff]\nSESSION_EXPIRE_TIMEOUT=P[DD]DT[HH]H[MM]M[SS]S  # ISO 8601\n")])]),e._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[e._v("1")]),v("br"),v("span",{staticClass:"line-number"},[e._v("2")]),v("br"),v("span",{staticClass:"line-number"},[e._v("3")]),v("br")])])])}),[],!1,null,null,null);t.default=_.exports}}]);