{"version":3,"file":"3c937908.js","mappings":";;;;;AAMA;;ACMA;;;;AAIA;;AAZA;;;;;;;;;;;;;;;;;AAAA;;;ACwDA;;;AAGA;;;AAGA;;;;AAIA;AACA;;;;;;;AAOA;AACA;;AAEA;;;;AAIA;;;;;;AAMA;AACA;;;;;AAnEA;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;ACwFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;;;;;;;;;;;;;;;;;AAmBA","sources":["webpack://home-assistant-frontend/./src/components/ha-circular-progress.ts","webpack://home-assistant-frontend/./src/components/ha-svg-icon.ts","webpack://home-assistant-frontend/./src/panels/aisgalery/ha-dialog-aisgalery.ts","webpack://home-assistant-frontend/./src/resources/styles.ts"],"sourcesContent":["import { CircularProgress } from \"@material/mwc-circular-progress\";\nimport { CSSResultGroup, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-circular-progress\")\n// @ts-ignore\nexport class HaCircularProgress extends CircularProgress {\n  @property({ type: Boolean })\n  public active = false;\n\n  @property()\n  public alt = \"Loading\";\n\n  @property()\n  public size: \"tiny\" | \"small\" | \"medium\" | \"large\" = \"medium\";\n\n  // @ts-ignore\n  public set density(_) {\n    // just a dummy\n  }\n\n  public get density() {\n    switch (this.size) {\n      case \"tiny\":\n        return -8;\n      case \"small\":\n        return -5;\n      case \"medium\":\n        return 0;\n      case \"large\":\n        return 5;\n      default:\n        return 0;\n    }\n  }\n\n  // @ts-ignore\n  public set indeterminate(_) {\n    // just a dummy\n  }\n\n  public get indeterminate() {\n    return this.active;\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      super.styles,\n      css`\n        :host {\n          overflow: hidden;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-circular-progress\": HaCircularProgress;\n  }\n}\n","import { css, CSSResultGroup, LitElement, svg, SVGTemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\n\n@customElement(\"ha-svg-icon\")\nexport class HaSvgIcon extends LitElement {\n  @property() public path?: string;\n\n  @property() public viewBox?: string;\n\n  protected render(): SVGTemplateResult {\n    return svg`\n    <svg\n      viewBox=${this.viewBox || \"0 0 24 24\"}\n      preserveAspectRatio=\"xMidYMid meet\"\n      focusable=\"false\">\n      <g>\n      ${this.path ? svg`<path d=${this.path}></path>` : \"\"}\n      </g>\n    </svg>`;\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      :host {\n        display: var(--ha-icon-display, inline-flex);\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        vertical-align: middle;\n        fill: currentcolor;\n        width: var(--mdc-icon-size, 24px);\n        height: var(--mdc-icon-size, 24px);\n      }\n      svg {\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        display: block;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-svg-icon\": HaSvgIcon;\n  }\n}\n","import \"@polymer/paper-input/paper-input\";\nimport \"../../components/ha-icon-button\";\nimport \"@material/mwc-button\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\nimport \"../../components/dialog/ha-paper-dialog\";\nimport { createCloseHeading } from \"../../components/ha-dialog\";\nimport {css, CSSResultGroup, html, LitElement, TemplateResult} from \"lit\";\nimport {property} from 'lit/decorators';\nimport { HomeAssistant } from \"../../types\";\nimport { haStyleDialog } from \"../../resources/styles\";\n\nimport { PolymerChangedEvent } from \"../../polymer-types\";\n\nimport \"../../components/ha-picture-upload\";\nimport type { HaPictureUpload } from \"../../components/ha-picture-upload\";\nimport { CropOptions } from \"../../dialogs/image-cropper-dialog/show-image-cropper-dialog\";\nimport { AisGaleryDialogParams } from \"./show-ha-aisgalery-dialog\";\n\nconst cropOptions: CropOptions = {\n  round: false,\n  type: \"image/jpeg\",\n  quality: 0.75,\n  aspectRatio: NaN,\n};\n\nexport class HaDialogAisgalery extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ attribute: false })\n  private _params?: AisGaleryDialogParams;\n\n  @property() private _name!: string;\n\n  @property() private _picture!: string | null;\n\n  @property() private _picture_last_value!: string | null;\n\n  @property() private _error?: string;\n\n  @property() private _submitting = false;\n\n  @property() private _closeDialog = false;\n\n  public async showDialog(params: AisGaleryDialogParams): Promise<void> {\n    this._params = params;\n    this._error = undefined;\n    this._picture = null;\n    this._name = \"\";\n    this._closeDialog = false;\n  }\n\n  protected render(): TemplateResult {\n    if (this._closeDialog) {\n      return html``;\n    }\n    const nameInvalid = this._name.trim() === \"\";\n    const pictureInvalid = this._picture == null;\n    return html`\n      <ha-dialog\n        open\n        @closed=${this._close}\n        scrimClickAction\n        escapeKeyAction\n        .heading=${createCloseHeading(this.hass, \"Nowe zdjęcie\")}     \n      >\n      <div>\n          ${this._error ? html` <div class=\"error\">${this._error}</div> ` : \"\"}\n          <div class=\"form\">\n            <paper-input\n                dialogInitialFocus\n                .value=${this._name}\n                @value-changed=${this._nameChanged}\n                label=\"Nazwa\"\n                error-message=\"Nazwa jest wymagana\"\n                required\n                auto-validate\n              ></paper-input>\n            <ha-picture-upload\n                  .hass=${this.hass}\n                  .value=${this._picture}\n                  crop\n                  .cropOptions=${cropOptions}\n                  required\n                  auto-validate\n                  error-message=\"Zdjęcie jest wymagane\"\n                  @change=${this._pictureChanged}\n                ></ha-picture-upload>\n          </div>\n      </div>\n        <mwc-button\n            slot=\"primaryAction\"\n            @click=\"${this._addPicture}\"\n            .disabled=${nameInvalid || pictureInvalid || this._submitting}\n          > Dodaj\n          </mwc-button>\n        </ha-dialog>\n      </ha-dialog>\n    `;\n  }\n\n  private _pictureChanged(ev: PolymerChangedEvent<string | null>) {\n    this._error = undefined;\n    this._picture = (ev.target as HaPictureUpload).value;\n    if (this._name.trim() === \"\") {\n      this._name = (ev.target as HaPictureUpload).fileName || \"\";\n      this._name = this._name.split(\".\")[0];\n    }\n    if (this._picture == null) {\n      this._deletePicture();\n    } else {\n      this._picture_last_value = this._picture;\n    }\n  }\n\n  private async _deletePicture() {\n    if (this._picture_last_value) {\n      await this.hass.callService(\"ais_files\", \"remove_file\", {\n        path: this._picture_last_value,\n      });\n    }\n  }\n\n  private async _savePicture() {\n    await this.hass.callService(\"ais_files\", \"transfer_file\", {\n      path: this._picture_last_value,\n      name: this._name,\n    });\n    this._picture_last_value = null;\n    // refresh...\n    this._params?.jsCallback();\n  }\n\n  private _nameChanged(ev: PolymerChangedEvent<string>) {\n    this._error = undefined;\n    this._name = ev.detail.value;\n  }\n\n  private async _addPicture() {\n    this._submitting = true;\n    try {\n      this._savePicture();\n      this._closeDialog = true;\n    } catch (err) {\n      this._error = err ? err.message : \"Unknown error\";\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private _close(): void {\n    this._closeDialog = true;\n    this._deletePicture();\n  }\n\n  static get styles(): CSSResultGroup[] {\n    return [\n      haStyleDialog,\n      css`\n        .form {\n          padding-bottom: 24px;\n        }\n        ha-picture-upload {\n          display: block;\n        }\n        ha-user-picker {\n          margin-top: 16px;\n        }\n        a {\n          color: var(--primary-color);\n        }\n        p {\n          color: var(--primary-text-color);\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-dialog-aisgalery\": HaDialogAisgalery;\n  }\n}\n\ncustomElements.define(\"ha-dialog-aisgalery\", HaDialogAisgalery);\n","import { css } from \"lit\";\n\nexport const darkStyles = {\n  \"primary-background-color\": \"#111111\",\n  \"card-background-color\": \"#1c1c1c\",\n  \"secondary-background-color\": \"#202020\",\n  \"primary-text-color\": \"#e1e1e1\",\n  \"secondary-text-color\": \"#9b9b9b\",\n  \"disabled-text-color\": \"#6f6f6f\",\n  \"app-header-text-color\": \"#e1e1e1\",\n  \"app-header-background-color\": \"#101e24\",\n  \"switch-unchecked-button-color\": \"#999999\",\n  \"switch-unchecked-track-color\": \"#9b9b9b\",\n  \"divider-color\": \"rgba(225, 225, 225, .12)\",\n  \"mdc-ripple-color\": \"#AAAAAA\",\n  \"codemirror-keyword\": \"#C792EA\",\n  \"codemirror-operator\": \"#89DDFF\",\n  \"codemirror-variable\": \"#f07178\",\n  \"codemirror-variable-2\": \"#EEFFFF\",\n  \"codemirror-variable-3\": \"#DECB6B\",\n  \"codemirror-builtin\": \"#FFCB6B\",\n  \"codemirror-atom\": \"#F78C6C\",\n  \"codemirror-number\": \"#FF5370\",\n  \"codemirror-def\": \"#82AAFF\",\n  \"codemirror-string\": \"#C3E88D\",\n  \"codemirror-string-2\": \"#f07178\",\n  \"codemirror-comment\": \"#545454\",\n  \"codemirror-tag\": \"#FF5370\",\n  \"codemirror-meta\": \"#FFCB6B\",\n  \"codemirror-attribute\": \"#C792EA\",\n  \"codemirror-property\": \"#C792EA\",\n  \"codemirror-qualifier\": \"#DECB6B\",\n  \"codemirror-type\": \"#DECB6B\",\n  \"energy-grid-return-color\": \"#b39bdb\",\n};\n\nexport const derivedStyles = {\n  \"state-icon-error-color\": \"var(--error-state-color, var(--error-color))\",\n  \"state-unavailable-color\":\n    \"var(--state-icon-unavailable-color, var(--disabled-text-color))\",\n  \"sidebar-text-color\": \"var(--primary-text-color)\",\n  \"sidebar-background-color\": \"var(--card-background-color)\",\n  \"sidebar-selected-text-color\": \"var(--primary-color)\",\n  \"sidebar-selected-icon-color\": \"var(--primary-color)\",\n  \"sidebar-icon-color\": \"rgba(var(--rgb-primary-text-color), 0.6)\",\n  \"switch-checked-color\": \"var(--primary-color)\",\n  \"switch-checked-button-color\":\n    \"var(--switch-checked-color, var(--primary-background-color))\",\n  \"switch-checked-track-color\": \"var(--switch-checked-color, #000000)\",\n  \"switch-unchecked-button-color\":\n    \"var(--switch-unchecked-color, var(--primary-background-color))\",\n  \"switch-unchecked-track-color\": \"var(--switch-unchecked-color, #000000)\",\n  \"slider-color\": \"var(--primary-color)\",\n  \"slider-secondary-color\": \"var(--light-primary-color)\",\n  \"slider-track-color\": \"var(--scrollbar-thumb-color)\",\n  \"label-badge-background-color\": \"var(--card-background-color)\",\n  \"label-badge-text-color\": \"rgba(var(--rgb-primary-text-color), 0.8)\",\n  \"paper-listbox-background-color\": \"var(--card-background-color)\",\n  \"paper-item-icon-color\": \"var(--state-icon-color)\",\n  \"paper-item-icon-active-color\": \"var(--state-icon-active-color)\",\n  \"table-row-background-color\": \"var(--primary-background-color)\",\n  \"table-row-alternative-background-color\": \"var(--secondary-background-color)\",\n  \"paper-slider-knob-color\": \"var(--slider-color)\",\n  \"paper-slider-knob-start-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-color\": \"var(--slider-color)\",\n  \"paper-slider-pin-start-color\": \"var(--slider-color)\",\n  \"paper-slider-active-color\": \"var(--slider-color)\",\n  \"paper-slider-secondary-color\": \"var(--slider-secondary-color)\",\n  \"paper-slider-container-color\": \"var(--slider-track-color)\",\n  \"data-table-background-color\": \"var(--card-background-color)\",\n  \"markdown-code-background-color\": \"var(--primary-background-color)\",\n  \"mdc-theme-primary\": \"var(--primary-color)\",\n  \"mdc-theme-secondary\": \"var(--accent-color)\",\n  \"mdc-theme-background\": \"var(--primary-background-color)\",\n  \"mdc-theme-surface\": \"var(--card-background-color)\",\n  \"mdc-theme-on-primary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-secondary\": \"var(--text-primary-color)\",\n  \"mdc-theme-on-surface\": \"var(--primary-text-color)\",\n  \"mdc-theme-text-disabled-on-light\": \"var(--disabled-text-color)\",\n  \"mdc-theme-text-primary-on-background\": \"var(--primary-text-color)\",\n  \"mdc-theme-text-secondary-on-background\": \"var(--secondary-text-color)\",\n  \"mdc-theme-text-icon-on-background\": \"var(--secondary-text-color)\",\n  \"app-header-text-color\": \"var(--text-primary-color)\",\n  \"app-header-background-color\": \"var(--primary-color)\",\n  \"mdc-checkbox-unchecked-color\": \"rgba(var(--rgb-primary-text-color), 0.54)\",\n  \"mdc-checkbox-disabled-color\": \"var(--disabled-text-color)\",\n  \"mdc-radio-unchecked-color\": \"rgba(var(--rgb-primary-text-color), 0.54)\",\n  \"mdc-radio-disabled-color\": \"var(--disabled-text-color)\",\n  \"mdc-tab-text-label-color-default\": \"var(--primary-text-color)\",\n  \"mdc-button-disabled-ink-color\": \"var(--disabled-text-color)\",\n  \"mdc-button-outline-color\": \"var(--divider-color)\",\n  \"mdc-dialog-scroll-divider-color\": \"var(--divider-color)\",\n  \"chip-background-color\": \"rgba(var(--rgb-primary-text-color), 0.15)\",\n  // Vaadin\n  \"material-body-text-color\": \"var(--primary-text-color)\",\n  \"material-background-color\": \"var(--card-background-color)\",\n  \"material-secondary-background-color\": \"var(--secondary-background-color)\",\n  \"material-secondary-text-color\": \"var(--secondary-text-color)\",\n};\n\nexport const buttonLinkStyle = css`\n  button.link {\n    background: none;\n    color: inherit;\n    border: none;\n    padding: 0;\n    font: inherit;\n    text-align: left;\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nexport const haStyle = css`\n  :host {\n    font-family: var(--paper-font-body1_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n    font-size: var(--paper-font-body1_-_font-size);\n    font-weight: var(--paper-font-body1_-_font-weight);\n    line-height: var(--paper-font-body1_-_line-height);\n  }\n\n  app-header-layout,\n  ha-app-layout {\n    background-color: var(--primary-background-color);\n  }\n\n  app-header,\n  app-toolbar {\n    background-color: var(--app-header-background-color);\n    font-weight: 400;\n    color: var(--app-header-text-color, white);\n  }\n\n  app-toolbar {\n    height: var(--header-height);\n  }\n\n  app-header div[sticky] {\n    height: 48px;\n  }\n\n  app-toolbar [main-title] {\n    margin-left: 20px;\n  }\n\n  h1 {\n    font-family: var(--paper-font-headline_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-headline_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-headline_-_white-space);\n    overflow: var(--paper-font-headline_-_overflow);\n    text-overflow: var(--paper-font-headline_-_text-overflow);\n    font-size: var(--paper-font-headline_-_font-size);\n    font-weight: var(--paper-font-headline_-_font-weight);\n    line-height: var(--paper-font-headline_-_line-height);\n  }\n\n  h2 {\n    font-family: var(--paper-font-title_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-title_-_white-space);\n    overflow: var(--paper-font-title_-_overflow);\n    text-overflow: var(--paper-font-title_-_text-overflow);\n    font-size: var(--paper-font-title_-_font-size);\n    font-weight: var(--paper-font-title_-_font-weight);\n    line-height: var(--paper-font-title_-_line-height);\n  }\n\n  h3 {\n    font-family: var(--paper-font-subhead_-_font-family);\n    -webkit-font-smoothing: var(--paper-font-subhead_-_-webkit-font-smoothing);\n    white-space: var(--paper-font-subhead_-_white-space);\n    overflow: var(--paper-font-subhead_-_overflow);\n    text-overflow: var(--paper-font-subhead_-_text-overflow);\n    font-size: var(--paper-font-subhead_-_font-size);\n    font-weight: var(--paper-font-subhead_-_font-weight);\n    line-height: var(--paper-font-subhead_-_line-height);\n  }\n\n  a {\n    color: var(--primary-color);\n  }\n\n  .secondary {\n    color: var(--secondary-text-color);\n  }\n\n  .error {\n    color: var(--error-color);\n  }\n\n  .warning {\n    color: var(--error-color);\n  }\n\n  mwc-button.warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n\n  ${buttonLinkStyle}\n\n  .card-actions a {\n    text-decoration: none;\n  }\n\n  .card-actions .warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n\n  .layout.horizontal,\n  .layout.vertical {\n    display: flex;\n  }\n  .layout.inline {\n    display: inline-flex;\n  }\n  .layout.horizontal {\n    flex-direction: row;\n  }\n  .layout.vertical {\n    flex-direction: column;\n  }\n  .layout.wrap {\n    flex-wrap: wrap;\n  }\n  .layout.no-wrap {\n    flex-wrap: nowrap;\n  }\n  .layout.center,\n  .layout.center-center {\n    align-items: center;\n  }\n  .layout.bottom {\n    align-items: flex-end;\n  }\n  .layout.center-justified,\n  .layout.center-center {\n    justify-content: center;\n  }\n  .flex {\n    flex: 1;\n    flex-basis: 0.000000001px;\n  }\n  .flex-auto {\n    flex: 1 1 auto;\n  }\n  .flex-none {\n    flex: none;\n  }\n  .layout.justified {\n    justify-content: space-between;\n  }\n`;\n\nexport const haStyleDialog = css`\n  /* prevent clipping of positioned elements */\n  paper-dialog-scrollable {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: auto;\n    }\n  }\n\n  /* force smooth scrolling for iOS 10 */\n  paper-dialog-scrollable.can-scroll {\n    --paper-dialog-scrollable: {\n      -webkit-overflow-scrolling: touch;\n    }\n  }\n\n  .paper-dialog-buttons {\n    align-items: flex-end;\n    padding: 8px;\n    padding-bottom: max(env(safe-area-inset-bottom), 8px);\n  }\n\n  @media all and (min-width: 450px) and (min-height: 500px) {\n    ha-paper-dialog {\n      min-width: 400px;\n    }\n  }\n\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    paper-dialog,\n    ha-paper-dialog {\n      margin: 0;\n      width: calc(\n        100% - env(safe-area-inset-right) - env(safe-area-inset-left)\n      ) !important;\n      min-width: calc(\n        100% - env(safe-area-inset-right) - env(safe-area-inset-left)\n      ) !important;\n      max-width: calc(\n        100% - env(safe-area-inset-right) - env(safe-area-inset-left)\n      ) !important;\n      max-height: calc(100% - var(--header-height));\n\n      position: fixed !important;\n      bottom: 0px;\n      left: env(safe-area-inset-left);\n      right: env(safe-area-inset-right);\n      overflow: scroll;\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    }\n  }\n\n  /* mwc-dialog (ha-dialog) styles */\n  ha-dialog {\n    --mdc-dialog-min-width: 400px;\n    --mdc-dialog-max-width: 600px;\n    --mdc-dialog-heading-ink-color: var(--primary-text-color);\n    --mdc-dialog-content-ink-color: var(--primary-text-color);\n    --justify-action-buttons: space-between;\n  }\n\n  ha-dialog .form {\n    padding-bottom: 24px;\n    color: var(--primary-text-color);\n  }\n\n  a {\n    color: var(--primary-color);\n  }\n\n  /* make dialog fullscreen on small screens */\n  @media all and (max-width: 450px), all and (max-height: 500px) {\n    ha-dialog {\n      --mdc-dialog-min-width: calc(\n        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)\n      );\n      --mdc-dialog-max-width: calc(\n        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)\n      );\n      --mdc-dialog-min-height: 100%;\n      --mdc-dialog-max-height: 100%;\n      --mdc-shape-medium: 0px;\n      --vertial-align-dialog: flex-end;\n    }\n  }\n  mwc-button.warning {\n    --mdc-theme-primary: var(--error-color);\n  }\n  .error {\n    color: var(--error-color);\n  }\n`;\n\nexport const haStyleScrollbar = css`\n  .ha-scrollbar::-webkit-scrollbar {\n    width: 0.4rem;\n    height: 0.4rem;\n  }\n\n  .ha-scrollbar::-webkit-scrollbar-thumb {\n    -webkit-border-radius: 4px;\n    border-radius: 4px;\n    background: var(--scrollbar-thumb-color);\n  }\n\n  .ha-scrollbar {\n    overflow-y: auto;\n    scrollbar-color: var(--scrollbar-thumb-color) transparent;\n    scrollbar-width: thin;\n  }\n`;\n\nexport const baseEntrypointStyles = css`\n  body {\n    background-color: var(--primary-background-color);\n    color: var(--primary-text-color);\n    height: calc(100vh - 32px);\n    width: 100vw;\n  }\n`;\n"],"names":[],"sourceRoot":""}